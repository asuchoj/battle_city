Описание игры

Давным-давно на 8-ми битных приставках существовала очень классная игра Battle City, но все её называли просто “Танчики”. Мы очень надеемся, что вы видели эту игру и знаете о чем идет речь. Если нет, то есть небольшое видео, посмотрев которое, можно всё сразу понять - https://www.youtube.com/watch?v=Pm5Ur_Yf_S0

Мы подумали, что идея написать такую игру в браузере очень подходит для проведения финала конкурса.

Что мы хотим сделать
Мы немного упростим игру и снабдим вас полезными штуками для того, чтобы можно было в сжатые сроки сделать как можно больше.

Карта:
Карта уровня состоит из прямоугольника шириной 13 и высотой 14 квадратов. Сторона одной клетки карты - 64 пикселя. Карта в оригинальной игре заполнена различными блоками, а у нас, пускай, будут только кирпичные стены.

Чтобы не тратить много времени на придумывания игрового поля, мы уже описали карту в специальном двумерном числовом массиве в прилагающемся файле map.js. Там же, в этом файле, есть ещё и легенда к карте, чтобы вам было легче разобраться и проще писать код используя обозначения из легенды, а не просто цифры.

Правила игры:
В игре существуют танк игрока и танки-противники. Есть 3 заранее определенных места появления танков-противников - базы противника, и на игровом поле может существовать одновременно только 3 таких танка. Если игрок уничтожает танк-противник, то он исчезает с игрового поля, а в одной, случайно выбранной, базе противника появляется новый танк.

Если танки-противники уничтожают танк игрока, то у игрока отнимается одна жизнь и его танк заново появляется в заранее определенном месте - базе игрока.
Игра идет до тех пор, пока игрок не уничтожит 21 танков-противников, либо пока не израсходует 3 жизни.

Управление:
Все танки имеют одинаковую скорость. А именно, за один интервал игрового цикла танк может сместиться только на соседнюю клетку.

Танк игрока управляется стрелками на клавиатуре, причем так, что двигается в том направлении, клавиша которого нажата в данный момент (если нажаты две или больше кнопки, то движение происходит в ту сторону, направление которой было задано последним). Если ни одна клавиша не нажата, то танк игрока находится на месте.

Танки-противники двигаются с постоянной скоростью в случайно выбранном направлении.

Все танки не могут проезжать сквозь препятствия и друг друга. При столкновении с препятствием танк игрока перестает двигаться, танк противника поворачивает в случайном направлении. Также, мы бы хотели, чтобы танки не могли заезжать за пределы игрового поля. Пускай танки при столкновении с границей карты ведут себя так же, как и при столкновении со стеной

Стрельба:
Все танки, естественно, умеют стрелять. Когда выстрел совершен, по направлению, в котором расположен танк, вылетает снаряд. Снаряд двигается пока не встретит вражеский танк или препятствие.

Вражеский танк считается убитым, если в него попал снаряд.

Если снаряд попал в стену, то снаряд исчезает и также исчезает пораженный квадрат со стеной.

Снаряды танков-противников не могут убивать своих.

Важно: пока снаряд, выпущенный танком находится в полете, этот танк не может совершать новый выстрел.

Танки-противники пытаются стрелять всегда.
Танк игрока стреляет, когда игрок нажимает клавишу “пробел”.

Что у нас есть для вас:

Чтобы вам было легче справиться с заданием, мы кое-что для вас сделали.
В архиве с нашим кодом вы найдёте:
Файл index.html - мы хотим, чтобы игра запускалась именно открытием этого файла. Index.html - не пустой. мы уже разметили там игровую область нужных размеров. Также там есть небольшое описание объектов игры, которое, возможно, поможет вам. Ещё мы подключили и необходимые файлы стилей, jQuery (если, вдруг, вам будет удобнее работать с ним), и пару js-файлов
В папке css лежит 2 файла стилей. Первый, normalize.css, нужен исключительно для технических соображений и не понадобится вам в работе. Второй, main.css - это тот самый файл, где вы можете описывать свои стили, если вам это понадобится. Обратите внимание, что он не пустой, там уже есть стили, которые нужны для отображения игрового поля и, даже, немного стилей для отображения объектов игры, которые вы можете использовать.
В папке img лежит всего 3 картинки - это два вида танков и стены
В папке js находится файл с описанием карты игры и файл main.js
main.js - это именно то место, которое предназначено для вашего кода. Он, кстати, тоже не пустой. Мы попробовали и тут вам немного помочь, создав пару переменных и обозначив, как, на наш взгляд, стоило бы организовать архитектуру приложения.

Вы, конечно, можете и не использовать нашу помощь. Добавляйте свои файлы или удаляйте наши, если считаете нужным. Пишите код так, как считаете удобным. Мы будем оценивать результат вашей работы, а не то, насколько ваше представление об организации кода совпадает с нашим.


Задание:

Мы бы хотели, чтобы вы не использовали canvas, а все визуальные элементы (препятствия, танки, снаряды) были сделаны с помощью DOM-элементов, например, div-ов. Нам кажется очевидным, что было бы неплохо сделать это с помощью абсолютного позиционирования блоков, но, если вам кажется, что есть другие варианты, и они вам нравятся, используйте их (но не используйте canvas)).

1 - посмотрите внимательно на тот код, который у вас уже есть и подумайте, будете ли вы его использовать
2 - расставьте на карте стены
3 - опишите модель танка так, чтобы потом это можно было использовать для создания танков-противника и танка-игрока (тут мы намекаем, что неплохо было бы написать класс, который можно было бы легко потом использовать для создания танков любого типа)
4 - Создайте на карте танк-противник и научить его двигаться
5 - Теперь можно создать сразу трёх противников на трёх базах
6 - Создайте на карте танк игрока, и пускай он пока двигается по правилам танков-противников
7 - Самое время научить танк игрока реагировать на стрелки клавиатуры
8 - Научите танки сталкиваться со стенами и правильно реагировать на эти столкновения
9 - Научите танки стрелять
10 - Научите танки умирать от попадания в них снаряда
11 - Теперь можно сделать и разрушение стен
12 - Реализуйте появление нового танка-противника в случае, если один из них убит
13 - Реализуйте появление танка игрока на базе в случае, если он убит
14 - Организуйте счетчик жизней игрока
15 - Организуйте счетчик танков-противников
16 - Научите игру сообщать о победе или о поражении (например хотя бы с помощью alert()) и запускаться заново.

8* - Научите теперь танки реагировать на столкновения с другими танками (это не обязательное и достаточно сложное задание, поэтому сделайте его, если у вас есть время) 
